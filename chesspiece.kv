<ChessPiece>:
    source: "redpiece.png"
    keep_ratio: False
    allow_stretch: True
    player: "black"
    color: (1,1,1,1) if self.player == "black" else (1,0,0,1)
    source: "images/%spiece.png"%self.piece_type
    indicator_opacity: 0
    debug: 0
    col: 0
    row: 0
    on_release:
        print("pressed", self.player, self.piece_type)
        self.highlight_moves()
    AvailableMoveIndicator:
        center: root.center
        opacity: root.indicator_opacity
    Label:
        text: "%s,%s"%(root.col,root.row)
        pos: root.pos
        size: root.size
        canvas.before:
            Color:
                rgba: 0,0,0, root.debug
            Rectangle:
                size: self.size
                pos: self.pos
